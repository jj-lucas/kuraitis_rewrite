# Migration `20210125175453-add-cart-sku-concept`

This migration has been generated by Lucas Gabriel Salina D'Ovidio at 1/25/2021, 6:54:54 PM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
CREATE TABLE "CartSku" (
    "id" TEXT NOT NULL,
    "skuId" TEXT NOT NULL,
    "customization" TEXT,

    FOREIGN KEY ("skuId") REFERENCES "Sku"("id") ON DELETE CASCADE ON UPDATE CASCADE,
    PRIMARY KEY ("id")
)
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20210124174709-add-stock-to-sku..20210125175453-add-cart-sku-concept
--- datamodel.dml
+++ datamodel.dml
@@ -1,7 +1,7 @@
 datasource db {
     provider = "sqlite"
-    url = "***"
+    url = "***"
 }
 generator client {
     provider = "prisma-client-js"
@@ -79,19 +79,27 @@
     priceId            String?
 }
 model Sku {
-    id        String  @id @default(cuid())
-    sku       String  @unique
-    product   Product @relation(fields: [productId], references: [id])
-    price     Price?  @relation(fields: [priceId], references: [id])
-    image     Image?  @relation(fields: [imageId], references: [id])
+    id        String    @id @default(cuid())
+    sku       String    @unique
+    product   Product   @relation(fields: [productId], references: [id])
+    price     Price?    @relation(fields: [priceId], references: [id])
+    image     Image?    @relation(fields: [imageId], references: [id])
     productId String
     priceId   String?
     imageId   String?
-    stock     Int     @default(0)
+    stock     Int       @default(0)
+    CartSku   CartSku[]
 }
+model CartSku {
+    id            String  @id @default(cuid())
+    product       Sku     @relation(fields: [skuId], references: [id])
+    skuId         String
+    customization String?
+}
+
 model Attribute {
     id       String @id @default(cuid())
     name     String
     options  String
```


