# Migration `20201128161852-change-default-type-of-category-published`

This migration has been generated by Lucas Gabriel Salina D'Ovidio at 11/28/2020, 5:18:52 PM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
PRAGMA foreign_keys=OFF;
CREATE TABLE "new_Category" (
    "id" TEXT NOT NULL,
    "sorting" INTEGER,
    "published" BOOLEAN NOT NULL DEFAULT false,
    "slug_da" TEXT,
    "slug_en" TEXT,
    "name_da" TEXT,
    "name_en" TEXT,
    "description_da" TEXT,
    "description_en" TEXT,
    PRIMARY KEY ("id")
);
INSERT INTO "new_Category" ("id", "sorting", "published", "slug_da", "slug_en", "name_da", "name_en", "description_da", "description_en") SELECT "id", "sorting", "published", "slug_da", "slug_en", "name_da", "name_en", "description_da", "description_en" FROM "Category";
DROP TABLE "Category";
ALTER TABLE "new_Category" RENAME TO "Category";
CREATE UNIQUE INDEX "Category.slug_da_unique" ON "Category"("slug_da");
CREATE UNIQUE INDEX "Category.slug_en_unique" ON "Category"("slug_en");
PRAGMA foreign_key_check;
PRAGMA foreign_keys=ON
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20201128134903-product-code-not-required..20201128161852-change-default-type-of-category-published
--- datamodel.dml
+++ datamodel.dml
@@ -1,7 +1,7 @@
 datasource db {
     provider = "sqlite"
-    url = "***"
+    url = "***"
 }
 generator client {
     provider = "prisma-client-js"
@@ -38,9 +38,9 @@
 model Category {
     id             String    @id @default(cuid())
     sorting        Int?
-    published      Boolean   @default(true)
+    published      Boolean   @default(false)
     products       Product[]
     images         Image[]
     slug_da        String?   @unique
     slug_en        String?   @unique
```


